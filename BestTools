 rconsoleclear()
rconsolename("BestTools| Press Enter button to continue")
rconsoleinput()




local name = "BestTools"
local files = {
    "https://raw.githubusercontent.com/Xenijo/Script_Loader/main/Simple%20Whitelist%20crack.lua",
    "https://raw.githubusercontent.com/Xenijo/Script_Loader/main/Infinity%20Yield.lua",
    "https://raw.githubusercontent.com/Xenijo/Script_Loader/main/Hydroxide%5BRemote%20spy%2C%20connstant%20spy%2C%20upvalue%20spy%5D.lua",
    "https://raw.githubusercontent.com/Xenijo/Script_Loader/main/Http%20Spy.lua",
    "https://raw.githubusercontent.com/Xenijo/XenWare-OpenScource/main/XenWareV2.lua"
}

if not isfolder(name) then 
    makefolder(name)
end

for i = 1, #files do
    local url = files[i]
    local fileName = url:match("([^/]+)$")
    if fileName then
        local filepath = name.."/"..fileName
        if isfile(filepath) then
            local file = loadstring(readfile(filepath))
            local version = file and file() and file().getgenv().version or nil
            if version == "1.0" then
                print(fileName .. " is already up-to-date.")
            else
                local Response = syn.request({
                    Url = url,
                    Method = "HEAD"
                })
                if Response and Response.Headers and Response.Headers["Last-Modified"] then
                    local lastModified = Response.Headers["Last-Modified"]
                    local fileModified = readfile(filepath, "*all", "*t").modification
                    if lastModified ~= fileModified then
                        local Response = syn.request({
                            Url = url,
                            Method = "GET"
                        })
                        if Response then
                            writefile(filepath, Response.Body)
                            rconsoleprint(fileName .. "\n has been updated.")
                       else
                        rconsoleinfo("error: You already have the files or Script cant find files")
                        rconsoleprint("\nError: Could not download ".. fileName)
                        end
                    else
                        rconsoleprint(fileName .. "\n is already up-to-date.")
                    end
                else
                    rconsoleinfo("\n error: You already have the files or Script cant find files")
                    rconsoleprint("\n Error: Could not download ".. fileName)
                end
            end
        else
            local Response = syn.request({
                Url = url,
                Method = "GET"
            })
            if Response then
                wait(0.2)
                rconsoleinfo("\n Downloading...")
                writefile(filepath, Response.Body)
                rconsoleprint(fileName .. "\n has been downloaded.")
            else
                rconsoleinfo("\n error: You already have the files or Script cant find files")
                rconsoleprint("\n Error: Could not download ".. fileName)
            end
        end            
    end
end
